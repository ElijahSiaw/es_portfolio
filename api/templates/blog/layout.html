{% extends "layout.html" %}
{% block title %}List of articles{% endblock %}
{% block head %}
 {{super()}}
 {% endblock %}
 {% block content %}
 <div class="flex flex-col overflow-x-hidden">
 {% block blog %}{% endblock %}
 </div>
 <div class="w-full flex justify-center">
 <section id="comments" class="mt-6 max-w-2xl border border-gray-500 p-2 rounded shadow">
   <h2 class="text-xl font-semibold">Comments</h2>
   <p>We accept only respectful comments. Any one who abuse this directive will be blocked from sending further comments. <a class="text-blue-500 dark:text-amber-600" href="#">Read our comment policies for more information</a></p>
   <div class="my-10">
    {% if comments %}
    {% for comment in comments %}
    <div class="bg-white/75 p-2 rounded w-fit mt-10 dark:text-gray-900">
    <dl>
    <dt class="font-medium flex gap-2 items-center"><span class="rounded-full p-1 bg-gray-300"><img src="{{url_for('static', filename='images/default.png')}}" width="35" height="35" alt="profile"/></span><section class="grid gap-0.5">
      <time class="text-sm md:text-base" data="{{comment.dateupdated}}">
      {{comment.dateupdated|format_datetime_short}}
      </time>
      <span>{{comment.name|striptags}}</span></section></dt>
    <dd>
    {{comment.message|striptags}}
    </dd>
    </dl>
    <dl class="flex gap-2">
    <dd>{{comment.likes}}</dd>
    <dd class="text-blue-500" data="{{comment.likes}}"><button data-user-reaction="likes" data-user-id="{{comment.id}}" onclick="handleReaction(this)">👍</button></dd>
    <dd>{{comment.loves}}</dd>
    <dd class="text-red-800" data="{{comment.loves}}"><button data-user-reaction="loves" data-user-id="{{comment.id}}" onclick="handleReaction(this)">❤</button></dd> 
       <dd>{{comment.dislikes}}</dd>
    <dd class="text-blue-500" data="{{comment.dislikes}}"><button data-user-reaction="dislikes" data-user-id="{{comment.id}}" onclick="handleReaction(this)">👎</button></dd>
    </dl>
    </div>
    {% endfor %}
    {% endif %}
    </div>
    <div>
   <form id="comment-form" method="post" class="max-w-3xl m-auto grid gap-6">
 <textarea name="message" placeholder="Enter comment" rows="5" class="w-full px-4 py-3 rounded-md border dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-gray-100" required></textarea>
    <button type="submit" class="bg-sky-900/30 dark:bg-teal-600/50 border border-sky-500 dark:border-teal-400 text-white font-semibold px-6 py-3 rounded-lg hover:bg-sky-900/50 dark:hover:bg-teal-800/50 transition">Comment</button>
    </form>
    </div>
  </section>
  </div>
  {% endblock %}
